{
    "sourceFile": "flutter_app_carrito/lib/providers/carrito_provider.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1763812885691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763813038145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n-import '../../models/articulo_carrito.dart';\n-import '../../models/producto.dart';\n+import '../models/articulo_carrito.dart';\n+import '../models/producto.dart';\n \n // 1. Define la clase Notificadora de Estado (StateNotifier)\n class CarritoNotifier extends StateNotifier<List<ArticuloCarrito>> {\n   // Inicializa el carrito con una lista vacía.\n"
                },
                {
                    "date": 1763815138987,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,16 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import '../models/articulo_carrito.dart';\n import '../models/producto.dart';\n \n-// 1. Define la clase Notificadora de Estado (StateNotifier)\n-class CarritoNotifier extends StateNotifier<List<ArticuloCarrito>> {\n-  // Inicializa el carrito con una lista vacía.\n-  CarritoNotifier() : super([]);\n+// 1. Define la clase Notificadora de Estado usando el 'Notifier' moderno.\n+class CarritoNotifier extends Notifier<List<ArticuloCarrito>> {\n+  // El método 'build' es requerido y debe devolver el estado inicial.\n+  // Es el equivalente al 'super([])' del constructor en StateNotifier.\n+  @override\n+  List<ArticuloCarrito> build() {\n+    return [];\n+  }\n \n   // Método para añadir un producto al carrito.\n   void agregarProducto(Producto producto) {\n     // Busca si el producto ya existe en el carrito.\n@@ -40,9 +44,10 @@\n   }\n }\n \n // 2. Define el Proveedor (StateNotifierProvider)\n-// Este es el proveedor global que expondremos a la UI.\n+// Se define el proveedor usando 'NotifierProvider'.\n+// La sintaxis es más directa y concisa que con StateNotifierProvider.\n final carritoProvider =\n-    StateNotifierProvider<CarritoNotifier, List<ArticuloCarrito>>((ref) {\n-      return CarritoNotifier();\n-    });\n+    NotifierProvider<CarritoNotifier, List<ArticuloCarrito>>(\n+      CarritoNotifier.new,\n+    );\n"
                },
                {
                    "date": 1763815194823,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,10 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import '../models/articulo_carrito.dart';\n import '../models/producto.dart';\n \n-// 1. Define la clase Notificadora de Estado usando el 'Notifier' moderno.\n+//Usamos la clase Notificadora de Estado usando el 'Notifier'\n class CarritoNotifier extends Notifier<List<ArticuloCarrito>> {\n-  // El método 'build' es requerido y debe devolver el estado inicial.\n-  // Es el equivalente al 'super([])' del constructor en StateNotifier.\n   @override\n   List<ArticuloCarrito> build() {\n     return [];\n   }\n"
                },
                {
                    "date": 1763820586372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,8 +39,45 @@\n     state = state\n         .where((item) => item.producto.nombre != nombreProducto)\n         .toList();\n   }\n+\n+  // Método para aumentar la cantidad de un producto.\n+  void aumentarCantidad(String nombreProducto) {\n+    state = [\n+      for (final item in state)\n+        if (item.producto.nombre == nombreProducto)\n+          ArticuloCarrito(\n+            producto: item.producto,\n+            cantidad: item.cantidad + 1,\n+          )\n+        else\n+          item,\n+    ];\n+  }\n+\n+  // Método para disminuir la cantidad de un producto.\n+  void disminuirCantidad(String nombreProducto) {\n+    final articulo =\n+        state.firstWhere((item) => item.producto.nombre == nombreProducto);\n+\n+    // Si la cantidad es 1, eliminar el producto.\n+    if (articulo.cantidad == 1) {\n+      eliminarProducto(nombreProducto);\n+    } else {\n+      // Si es mayor a 1, solo reducir la cantidad.\n+      state = [\n+        for (final item in state)\n+          if (item.producto.nombre == nombreProducto)\n+            ArticuloCarrito(\n+              producto: item.producto,\n+              cantidad: item.cantidad - 1,\n+            )\n+          else\n+            item,\n+      ];\n+    }\n+  }\n }\n \n // 2. Define el Proveedor (StateNotifierProvider)\n // Se define el proveedor usando 'NotifierProvider'.\n"
                }
            ],
            "date": 1763812885691,
            "name": "Commit-0",
            "content": "import 'package:flutter_riverpod/flutter_riverpod.dart';\nimport '../../models/articulo_carrito.dart';\nimport '../../models/producto.dart';\n\n// 1. Define la clase Notificadora de Estado (StateNotifier)\nclass CarritoNotifier extends StateNotifier<List<ArticuloCarrito>> {\n  // Inicializa el carrito con una lista vacía.\n  CarritoNotifier() : super([]);\n\n  // Método para añadir un producto al carrito.\n  void agregarProducto(Producto producto) {\n    // Busca si el producto ya existe en el carrito.\n    final indice = state.indexWhere(\n      (item) => item.producto.nombre == producto.nombre,\n    );\n\n    if (indice != -1) {\n      // Si existe, crea una copia del artículo y aumenta su cantidad.\n      final articuloExistente = state[indice];\n      final articuloActualizado = ArticuloCarrito(\n        producto: articuloExistente.producto,\n        cantidad: articuloExistente.cantidad + 1,\n      );\n      // Reemplaza el artículo antiguo por el actualizado en la lista.\n      state = [\n        for (int i = 0; i < state.length; i++)\n          if (i == indice) articuloActualizado else state[i],\n      ];\n    } else {\n      // Si no existe, añade un nuevo artículo al carrito.\n      state = [...state, ArticuloCarrito(producto: producto, cantidad: 1)];\n    }\n  }\n\n  // Método para eliminar un producto del carrito.\n  void eliminarProducto(String nombreProducto) {\n    state = state\n        .where((item) => item.producto.nombre != nombreProducto)\n        .toList();\n  }\n}\n\n// 2. Define el Proveedor (StateNotifierProvider)\n// Este es el proveedor global que expondremos a la UI.\nfinal carritoProvider =\n    StateNotifierProvider<CarritoNotifier, List<ArticuloCarrito>>((ref) {\n      return CarritoNotifier();\n    });\n"
        }
    ]
}