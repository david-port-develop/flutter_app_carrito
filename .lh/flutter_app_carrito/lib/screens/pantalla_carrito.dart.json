{
    "sourceFile": "flutter_app_carrito/lib/screens/pantalla_carrito.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1763719128942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763719673616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n \n   @override\n   Widget build(BuildContext context) {\n     return Scaffold(\n-      appBar: const AppBarComun(),\n+      appBar: const AppBarComun(titulo: 'Mi Carrito'),\n       body: Column(\n         children: [\n           Expanded(\n             child: ListView.builder(\n"
                },
                {
                    "date": 1763806898247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,104 @@\n+import '../models/articulo_carrito.dart';\n+import '../data/datos_ejemplo.dart';\n+import '../widgets/app_bar_comun.dart';\n+import 'package:flutter/material.dart';\n+\n+// Pantalla que muestra el contenido del carrito de compras.\n+class PantallaCarrito extends StatefulWidget {\n+  const PantallaCarrito({super.key});\n+\n+  @override\n+  _PantallaCarritoState createState() => _PantallaCarritoState();\n+}\n+\n+class _PantallaCarritoState extends State<PantallaCarrito> {\n+  // Datos de ejemplo para el carrito\n+  final List<ArticuloCarrito> _articulosCarrito = [\n+    ArticuloCarrito(producto: productosEjemplo[0], cantidad: 2),\n+    ArticuloCarrito(producto: productosEjemplo[1], cantidad: 1),\n+  ];\n+\n+  // Calcula el precio total de los artículos en el carrito.\n+  double get _precioTotal {\n+    return _articulosCarrito.fold(\n+      0,\n+      (sum, item) => sum + (item.producto.precio * item.cantidad),\n+    );\n+  }\n+\n+  @override\n+  Widget build(BuildContext context) {\n+    return Scaffold(\n+      appBar: const AppBarComun(),\n+      body: Column(\n+        children: [\n+          Expanded(\n+            child: ListView.builder(\n+              itemCount: _articulosCarrito.length,\n+              itemBuilder: (context, index) {\n+                final item = _articulosCarrito[index];\n+                return ListTile(\n+                  leading: Image.network(\n+                    item.producto.imagenUrl,\n+                    width: 50,\n+                    height: 50,\n+                    fit: BoxFit.cover,\n+                  ),\n+                  title: Text(item.producto.nombre),\n+                  subtitle: Text('Cantidad: ${item.cantidad}'),\n+                  trailing: Row(\n+                    mainAxisSize: MainAxisSize.min,\n+                    children: [\n+                      Text(\n+                        '\\$${(item.producto.precio * item.cantidad).toStringAsFixed(2)}',\n+                      ),\n+                      IconButton(\n+                        icon: const Icon(Icons.delete, color: Colors.red),\n+                        onPressed: () {\n+                          // La lógica para eliminar se implementará en la Fase 2.\n+                        },\n+                      ),\n+                    ],\n+                  ),\n+                );\n+              },\n+            ),\n+          ),\n+          // Muestra el resumen del precio total.\n+          Padding(\n+            padding: const EdgeInsets.all(16.0),\n+            child: Row(\n+              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n+              children: [\n+                Text(\n+                  'Total:',\n+                  style: Theme.of(context).textTheme.headlineSmall,\n+                ),\n+                Text(\n+                  '\\$${_precioTotal.toStringAsFixed(2)}',\n+                  style: Theme.of(context).textTheme.headlineSmall,\n+                ),\n+              ],\n+            ),\n+          ),\n+          // Botón para aprobar el pedido.\n+          Padding(\n+            padding: const EdgeInsets.symmetric(\n+              horizontal: 16.0,\n+              vertical: 8.0,\n+            ),\n+            child: SizedBox(\n+              width: double.infinity,\n+              child: ElevatedButton(\n+                onPressed: () {\n+                  // La lógica de aprobación se implementará en fases posteriores.\n+                },\n+                child: const Text('Aprobar Pedido'),\n+              ),\n+            ),\n+          ),\n+        ],\n+      ),\n+    );\n+  }\n+}\n"
                },
                {
                    "date": 1763806979234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n class PantallaCarrito extends StatefulWidget {\n   const PantallaCarrito({super.key});\n \n   @override\n-  _PantallaCarritoState createState() => _PantallaCarritoState();\n+  State<PantallaCarrito> createState() => _PantallaCarritoState();\n }\n \n class _PantallaCarritoState extends State<PantallaCarrito> {\n   // Datos de ejemplo para el carrito\n"
                },
                {
                    "date": 1763811703151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import '../models/articulo_carrito.dart';\n-import '../data/datos_ejemplo.dart';\n+import '../models/producto.dart';\n import '../widgets/app_bar_comun.dart';\n import 'package:flutter/material.dart';\n \n // Pantalla que muestra el contenido del carrito de compras.\n@@ -13,10 +13,25 @@\n \n class _PantallaCarritoState extends State<PantallaCarrito> {\n   // Datos de ejemplo para el carrito\n   final List<ArticuloCarrito> _articulosCarrito = [\n-    ArticuloCarrito(producto: productosEjemplo[0], cantidad: 2),\n-    ArticuloCarrito(producto: productosEjemplo[1], cantidad: 1),\n+    ArticuloCarrito(\n+      producto: Producto(\n+        nombre: 'Camiseta Clásica',\n+        precio: 19.99,\n+        descripcion: 'Camiseta de algodón 100% de alta calidad.',\n+        imagenUrl: 'https://picsum.photos/seed/picsum1/400/400',\n+      ),\n+      cantidad: 2,\n+    ),\n+    ArticuloCarrito(\n+      producto: Producto(\n+          nombre: 'Vaqueros Slim Fit',\n+          precio: 49.99,\n+          descripcion: 'Vaqueros modernos y cómodos para cualquier ocasión.',\n+          imagenUrl: 'https://picsum.photos/seed/picsum2/400/400'),\n+      cantidad: 1,\n+    ),\n   ];\n \n   // Calcula el precio total de los artículos en el carrito.\n   double get _precioTotal {\n"
                },
                {
                    "date": 1763811719787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,12 +24,13 @@\n       cantidad: 2,\n     ),\n     ArticuloCarrito(\n       producto: Producto(\n-          nombre: 'Vaqueros Slim Fit',\n-          precio: 49.99,\n-          descripcion: 'Vaqueros modernos y cómodos para cualquier ocasión.',\n-          imagenUrl: 'https://picsum.photos/seed/picsum2/400/400'),\n+        nombre: 'Vaqueros Slim Fit',\n+        precio: 49.99,\n+        descripcion: 'Vaqueros modernos y cómodos para cualquier ocasión.',\n+        imagenUrl: 'https://picsum.photos/seed/picsum2/400/400',\n+      ),\n       cantidad: 1,\n     ),\n   ];\n \n@@ -116,108 +117,4 @@\n       ),\n     );\n   }\n }\n-import '/models/articulo_carrito.dart';\n-import '/data/datos_ejemplo.dart';\n-import '/widgets/app_bar_comun.dart';\n-import 'package:flutter/material.dart';\n-\n-// Pantalla que muestra el contenido del carrito de compras.\n-class PantallaCarrito extends StatefulWidget {\n-  const PantallaCarrito({super.key});\n-\n-  @override\n-  _PantallaCarritoState createState() => _PantallaCarritoState();\n-}\n-\n-class _PantallaCarritoState extends State<PantallaCarrito> {\n-  // Datos de ejemplo para el carrito\n-  final List<ArticuloCarrito> _articulosCarrito = [\n-    ArticuloCarrito(producto: productosEjemplo[0], cantidad: 2),\n-    ArticuloCarrito(producto: productosEjemplo[1], cantidad: 1),\n-  ];\n-\n-  // Calcula el precio total de los artículos en el carrito.\n-  double get _precioTotal {\n-    return _articulosCarrito.fold(\n-      0,\n-      (sum, item) => sum + (item.producto.precio * item.cantidad),\n-    );\n-  }\n-\n-  @override\n-  Widget build(BuildContext context) {\n-    return Scaffold(\n-      appBar: const AppBarComun(titulo: 'Mi Carrito'),\n-      body: Column(\n-        children: [\n-          Expanded(\n-            child: ListView.builder(\n-              itemCount: _articulosCarrito.length,\n-              itemBuilder: (context, index) {\n-                final item = _articulosCarrito[index];\n-                return ListTile(\n-                  leading: Image.network(\n-                    item.producto.imagenUrl,\n-                    width: 50,\n-                    height: 50,\n-                    fit: BoxFit.cover,\n-                  ),\n-                  title: Text(item.producto.nombre),\n-                  subtitle: Text('Cantidad: ${item.cantidad}'),\n-                  trailing: Row(\n-                    mainAxisSize: MainAxisSize.min,\n-                    children: [\n-                      Text(\n-                        '\\$${(item.producto.precio * item.cantidad).toStringAsFixed(2)}',\n-                      ),\n-                      IconButton(\n-                        icon: const Icon(Icons.delete, color: Colors.red),\n-                        onPressed: () {\n-                          // La lógica para eliminar se implementará en la Fase 2.\n-                        },\n-                      ),\n-                    ],\n-                  ),\n-                );\n-              },\n-            ),\n-          ),\n-          // Muestra el resumen del precio total.\n-          Padding(\n-            padding: const EdgeInsets.all(16.0),\n-            child: Row(\n-              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n-              children: [\n-                Text(\n-                  'Total:',\n-                  style: Theme.of(context).textTheme.headlineSmall,\n-                ),\n-                Text(\n-                  '\\$${_precioTotal.toStringAsFixed(2)}',\n-                  style: Theme.of(context).textTheme.headlineSmall,\n-                ),\n-              ],\n-            ),\n-          ),\n-          // Botón para aprobar el pedido.\n-          Padding(\n-            padding: const EdgeInsets.symmetric(\n-              horizontal: 16.0,\n-              vertical: 8.0,\n-            ),\n-            child: SizedBox(\n-              width: double.infinity,\n-              child: ElevatedButton(\n-                onPressed: () {\n-                  // La lógica de aprobación se implementará en fases posteriores.\n-                },\n-                child: const Text('Aprobar Pedido'),\n-              ),\n-            ),\n-          ),\n-        ],\n-      ),\n-    );\n-  }\n-}\n"
                },
                {
                    "date": 1763812860791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,66 +1,40 @@\n-import '../models/articulo_carrito.dart';\n-import '../models/producto.dart';\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\n+\n+import '../providers/carrito_provider.dart';\n import '../widgets/app_bar_comun.dart';\n import 'package:flutter/material.dart';\n \n // Pantalla que muestra el contenido del carrito de compras.\n-class PantallaCarrito extends StatefulWidget {\n+class PantallaCarrito extends ConsumerWidget {\n   const PantallaCarrito({super.key});\n \n   @override\n-  State<PantallaCarrito> createState() => _PantallaCarritoState();\n-}\n-\n-class _PantallaCarritoState extends State<PantallaCarrito> {\n-  // Datos de ejemplo para el carrito\n-  final List<ArticuloCarrito> _articulosCarrito = [\n-    ArticuloCarrito(\n-      producto: Producto(\n-        nombre: 'Camiseta Clásica',\n-        precio: 19.99,\n-        descripcion: 'Camiseta de algodón 100% de alta calidad.',\n-        imagenUrl: 'https://picsum.photos/seed/picsum1/400/400',\n-      ),\n-      cantidad: 2,\n-    ),\n-    ArticuloCarrito(\n-      producto: Producto(\n-        nombre: 'Vaqueros Slim Fit',\n-        precio: 49.99,\n-        descripcion: 'Vaqueros modernos y cómodos para cualquier ocasión.',\n-        imagenUrl: 'https://picsum.photos/seed/picsum2/400/400',\n-      ),\n-      cantidad: 1,\n-    ),\n-  ];\n-\n-  // Calcula el precio total de los artículos en el carrito.\n-  double get _precioTotal {\n-    return _articulosCarrito.fold(\n+  Widget build(BuildContext context, WidgetRef ref) {\n+    final articulosCarrito = ref.watch(carritoProvider);\n+    final precioTotal = articulosCarrito.fold(\n       0,\n       (sum, item) => sum + (item.producto.precio * item.cantidad),\n     );\n-  }\n-\n-  @override\n-  Widget build(BuildContext context) {\n     return Scaffold(\n       appBar: const AppBarComun(),\n       body: Column(\n         children: [\n           Expanded(\n             child: ListView.builder(\n-              itemCount: _articulosCarrito.length,\n+              itemCount: articulosCarrito.length,\n               itemBuilder: (context, index) {\n-                final item = _articulosCarrito[index];\n+                final item = articulosCarrito[index];\n                 return ListTile(\n-                  leading: Image.network(\n-                    item.producto.imagenUrl,\n-                    width: 50,\n-                    height: 50,\n-                    fit: BoxFit.cover,\n-                  ),\n+                  leading: (item.producto.imagenUrl != null &&\n+                          item.producto.imagenUrl!.isNotEmpty)\n+                      ? Image.network(\n+                          item.producto.imagenUrl!,\n+                          width: 50,\n+                          height: 50,\n+                          fit: BoxFit.cover,\n+                        )\n+                      : const Icon(Icons.image_not_supported, size: 50),\n                   title: Text(item.producto.nombre),\n                   subtitle: Text('Cantidad: ${item.cantidad}'),\n                   trailing: Row(\n                     mainAxisSize: MainAxisSize.min,\n@@ -70,9 +44,11 @@\n                       ),\n                       IconButton(\n                         icon: const Icon(Icons.delete, color: Colors.red),\n                         onPressed: () {\n-                          // La lógica para eliminar se implementará en la Fase 2.\n+                          ref\n+                              .read(carritoProvider.notifier)\n+                              .eliminarProducto(item.producto.nombre);\n                         },\n                       ),\n                     ],\n                   ),\n@@ -90,9 +66,9 @@\n                   'Total:',\n                   style: Theme.of(context).textTheme.headlineSmall,\n                 ),\n                 Text(\n-                  '\\$${_precioTotal.toStringAsFixed(2)}',\n+                  '\\$${precioTotal.toStringAsFixed(2)}',\n                   style: Theme.of(context).textTheme.headlineSmall,\n                 ),\n               ],\n             ),\n"
                },
                {
                    "date": 1763815447706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   @override\n   Widget build(BuildContext context, WidgetRef ref) {\n     final articulosCarrito = ref.watch(carritoProvider);\n     final precioTotal = articulosCarrito.fold(\n-      0,\n+      0.0,\n       (sum, item) => sum + (item.producto.precio * item.cantidad),\n     );\n     return Scaffold(\n       appBar: const AppBarComun(),\n"
                },
                {
                    "date": 1763820594322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n-\n+import 'package:go_router/go_router.dart';\n import '../providers/carrito_provider.dart';\n import '../widgets/app_bar_comun.dart';\n import 'package:flutter/material.dart';\n \n@@ -14,83 +14,179 @@\n     final precioTotal = articulosCarrito.fold(\n       0.0,\n       (sum, item) => sum + (item.producto.precio * item.cantidad),\n     );\n+\n+    // --- Manejo del Carrito Vacío ---\n+    if (articulosCarrito.isEmpty) {\n+      return Scaffold(\n+        appBar: const AppBarComun(),\n+        body: Center(\n+          child: Column(\n+            mainAxisAlignment: MainAxisAlignment.center,\n+            children: [\n+              Icon(\n+                Icons.remove_shopping_cart_outlined,\n+                size: 80,\n+                color: Colors.grey[400],\n+              ),\n+              const SizedBox(height: 20),\n+              Text(\n+                'Tu carrito está vacío',\n+                style: Theme.of(context).textTheme.headlineSmall,\n+              ),\n+              const SizedBox(height: 10),\n+              const Text(\n+                '¡Añade productos para verlos aquí!',\n+                style: TextStyle(fontSize: 16, color: Colors.grey),\n+              ),\n+              const SizedBox(height: 30),\n+              ElevatedButton(\n+                onPressed: () => context.go('/'),\n+                style: ElevatedButton.styleFrom(\n+                  padding:\n+                      const EdgeInsets.symmetric(horizontal: 40, vertical: 15),\n+                ),\n+                child: const Text('Ir a la tienda'),\n+              ),\n+            ],\n+          ),\n+        ),\n+      );\n+    }\n+\n+    // --- Vista del Carrito con Productos ---\n     return Scaffold(\n       appBar: const AppBarComun(),\n       body: Column(\n         children: [\n           Expanded(\n-            child: ListView.builder(\n+            // Usamos ListView.separated para añadir un espacio entre tarjetas.\n+            child: ListView.separated(\n+              padding: const EdgeInsets.all(8.0),\n               itemCount: articulosCarrito.length,\n+              separatorBuilder: (context, index) =>\n+                  const SizedBox(height: 8.0),\n               itemBuilder: (context, index) {\n                 final item = articulosCarrito[index];\n-                return ListTile(\n-                  leading:\n-                      (item.producto.imagenUrl != null &&\n-                          item.producto.imagenUrl!.isNotEmpty)\n-                      ? Image.network(\n-                          item.producto.imagenUrl!,\n-                          width: 50,\n-                          height: 50,\n-                          fit: BoxFit.cover,\n+                // --- Tarjeta de Producto Mejorada ---\n+                return Card(\n+                  elevation: 2,\n+                  shape: RoundedRectangleBorder(\n+                      borderRadius: BorderRadius.circular(15)),\n+                  child: Padding(\n+                    padding: const EdgeInsets.all(12.0),\n+                    child: Row(\n+                      children: [\n+                        // Imagen del producto con bordes redondeados\n+                        ClipRRect(\n+                          borderRadius: BorderRadius.circular(10),\n+                          child: (item.producto.imagenUrl != null &&\n+                                  item.producto.imagenUrl!.isNotEmpty)\n+                              ? Image.network(\n+                                  item.producto.imagenUrl!,\n+                                  width: 80,\n+                                  height: 80,\n+                                  fit: BoxFit.cover,\n+                                )\n+                              : Container(\n+                                  width: 80,\n+                                  height: 80,\n+                                  color: Colors.grey[200],\n+                                  child: const Icon(Icons.image_not_supported,\n+                                      size: 40, color: Colors.grey),\n+                                ),\n+                        ),\n+                        const SizedBox(width: 15),\n+                        // Nombre y precio unitario\n+                        Expanded(\n+                          child: Column(\n+                            crossAxisAlignment: CrossAxisAlignment.start,\n+                            children: [\n+                              Text(\n+                                item.producto.nombre,\n+                                style: Theme.of(context).textTheme.titleMedium,\n+                                maxLines: 2,\n+                                overflow: TextOverflow.ellipsis,\n+                              ),\n+                              const SizedBox(height: 5),\n+                              Text(\n+                                '\\$${item.producto.precio.toStringAsFixed(2)} c/u',\n+                                style: const TextStyle(\n+                                    fontSize: 14, color: Colors.grey),\n+                              ),\n+                            ],\n+                          ),\n+                        ),\n+                        const SizedBox(width: 10),\n+                        // Controles de cantidad\n+                        Row(\n+                          children: [\n+                            IconButton(\n+                              icon: const Icon(Icons.remove_circle_outline),\n+                              onPressed: () => ref\n+                                  .read(carritoProvider.notifier)\n+                                  .disminuirCantidad(item.producto.nombre),\n+                            ),\n+                            Text(item.cantidad.toString(),\n+                                style: Theme.of(context).textTheme.titleMedium),\n+                            IconButton(\n+                              icon: const Icon(Icons.add_circle_outline),\n+                              onPressed: () => ref\n+                                  .read(carritoProvider.notifier)\n+                                  .aumentarCantidad(item.producto.nombre),\n+                            ),\n+                          ],\n                         )\n-                      : const Icon(Icons.image_not_supported, size: 50),\n-                  title: Text(item.producto.nombre),\n-                  subtitle: Text('Cantidad: ${item.cantidad}'),\n-                  trailing: Row(\n-                    mainAxisSize: MainAxisSize.min,\n-                    children: [\n-                      Text(\n-                        '\\$${(item.producto.precio * item.cantidad).toStringAsFixed(2)}',\n-                      ),\n-                      IconButton(\n-                        icon: const Icon(Icons.delete, color: Colors.red),\n-                        onPressed: () {\n-                          ref\n-                              .read(carritoProvider.notifier)\n-                              .eliminarProducto(item.producto.nombre);\n-                        },\n-                      ),\n-                    ],\n+                      ],\n+                    ),\n                   ),\n                 );\n               },\n             ),\n           ),\n-          // Muestra el resumen del precio total.\n-          Padding(\n+          // --- Resumen del Pedido y Botón ---\n+          Container(\n             padding: const EdgeInsets.all(16.0),\n-            child: Row(\n-              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n+            decoration: BoxDecoration(\n+              color: Theme.of(context).cardColor,\n+              boxShadow: [\n+                BoxShadow(\n+                  color: Colors.black.withOpacity(0.1),\n+                  spreadRadius: 0,\n+                  blurRadius: 10,\n+                ),\n+              ],\n+              borderRadius: const BorderRadius.only(\n+                topLeft: Radius.circular(20),\n+                topRight: Radius.circular(20),\n+              ),\n+            ),\n+            child: Column(\n+              mainAxisSize: MainAxisSize.min,\n               children: [\n-                Text(\n-                  'Total:',\n-                  style: Theme.of(context).textTheme.headlineSmall,\n+                Row(\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n+                  children: [\n+                    Text('Total:',\n+                        style: Theme.of(context).textTheme.headlineSmall),\n+                    Text('\\$${precioTotal.toStringAsFixed(2)}',\n+                        style: Theme.of(context).textTheme.headlineSmall),\n+                  ],\n                 ),\n-                Text(\n-                  '\\$${precioTotal.toStringAsFixed(2)}',\n-                  style: Theme.of(context).textTheme.headlineSmall,\n+                const SizedBox(height: 16),\n+                SizedBox(\n+                  width: double.infinity,\n+                  child: ElevatedButton(\n+                    onPressed: () {\n+                      // Lógica de aprobación\n+                    },\n+                    child: const Text('Aprobar Pedido'),\n+                  ),\n                 ),\n               ],\n             ),\n           ),\n-          // Botón para aprobar el pedido.\n-          Padding(\n-            padding: const EdgeInsets.symmetric(\n-              horizontal: 16.0,\n-              vertical: 8.0,\n-            ),\n-            child: SizedBox(\n-              width: double.infinity,\n-              child: ElevatedButton(\n-                onPressed: () {\n-                  // La lógica de aprobación se implementará en fases posteriores.\n-                },\n-                child: const Text('Aprobar Pedido'),\n-              ),\n-            ),\n-          ),\n         ],\n       ),\n     );\n   }\n"
                }
            ],
            "date": 1763719128942,
            "name": "Commit-0",
            "content": "import '/models/articulo_carrito.dart';\nimport '/data/datos_ejemplo.dart';\nimport '/widgets/app_bar_comun.dart';\nimport 'package:flutter/material.dart';\n\n// Pantalla que muestra el contenido del carrito de compras.\nclass PantallaCarrito extends StatefulWidget {\n  const PantallaCarrito({super.key});\n\n  @override\n  _PantallaCarritoState createState() => _PantallaCarritoState();\n}\n\nclass _PantallaCarritoState extends State<PantallaCarrito> {\n  // Datos de ejemplo para el carrito\n  final List<ArticuloCarrito> _articulosCarrito = [\n    ArticuloCarrito(producto: productosEjemplo[0], cantidad: 2),\n    ArticuloCarrito(producto: productosEjemplo[1], cantidad: 1),\n  ];\n\n  // Calcula el precio total de los artículos en el carrito.\n  double get _precioTotal {\n    return _articulosCarrito.fold(\n      0,\n      (sum, item) => sum + (item.producto.precio * item.cantidad),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: const AppBarComun(),\n      body: Column(\n        children: [\n          Expanded(\n            child: ListView.builder(\n              itemCount: _articulosCarrito.length,\n              itemBuilder: (context, index) {\n                final item = _articulosCarrito[index];\n                return ListTile(\n                  leading: Image.network(\n                    item.producto.imagenUrl,\n                    width: 50,\n                    height: 50,\n                    fit: BoxFit.cover,\n                  ),\n                  title: Text(item.producto.nombre),\n                  subtitle: Text('Cantidad: ${item.cantidad}'),\n                  trailing: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Text(\n                        '\\$${(item.producto.precio * item.cantidad).toStringAsFixed(2)}',\n                      ),\n                      IconButton(\n                        icon: const Icon(Icons.delete, color: Colors.red),\n                        onPressed: () {\n                          // La lógica para eliminar se implementará en la Fase 2.\n                        },\n                      ),\n                    ],\n                  ),\n                );\n              },\n            ),\n          ),\n          // Muestra el resumen del precio total.\n          Padding(\n            padding: const EdgeInsets.all(16.0),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: [\n                Text(\n                  'Total:',\n                  style: Theme.of(context).textTheme.headlineSmall,\n                ),\n                Text(\n                  '\\$${_precioTotal.toStringAsFixed(2)}',\n                  style: Theme.of(context).textTheme.headlineSmall,\n                ),\n              ],\n            ),\n          ),\n          // Botón para aprobar el pedido.\n          Padding(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 16.0,\n              vertical: 8.0,\n            ),\n            child: SizedBox(\n              width: double.infinity,\n              child: ElevatedButton(\n                onPressed: () {\n                  // La lógica de aprobación se implementará en fases posteriores.\n                },\n                child: const Text('Aprobar Pedido'),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n"
        }
    ]
}